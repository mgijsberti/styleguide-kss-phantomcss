<!DOCTYPE>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <title>Report Failures</title>
    <!-- Bootstrap core CSS -->
    <link href="bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap theme -->
    <link href="bootstrap-theme.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="theme.css" rel="stylesheet">

  <script  type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"> </script>

  <script>

     function disableButton(id){
        var sel = 'button#' + id;
        $(sel).prop('disabled', true);
     }

     function markRow(id){
       var sel = "tr#" + id;
       $(sel).css('background-color', 'LightGreen');
       var image  = sel + "  td.image";
       $(image).html('');
     }

     var messageStyle = {
       "background-color" :  "LightGreen",
        "border" : "1px solid black",
        "margin" : "5px",
        "width" : "300px",
        "height" : "25px"
     }

     var errorMessageStyle = {
       "background-color" :  "IndianRed",
       "border" : "1px solid black",
       "margin" : "5px",
       "width" : "300px",
       "height" : "25px"
     }

     function setMessage(message){
       var htmlM = "<span>" + message + "</span>";
       $('.message').html(htmlM).css(messageStyle);
     }

     function setFailure(message){
       var htmlM = "<span>" + message + "</span>";
       $('.message').html(htmlM).css(errorMessageStyle);
     }

     function rebase(section, selector, id) {
       $.get('/test/rebase?section=' + section + "&selector=" + selector,
           function(data) {
                console.log('Status : ' + data );
                if(data.match('success')){
                  setMessage('Rebase success : [ ' + section + '_' + selector + ']');
                  disableButton(id);
                  markRow(id);
                } else {
                  setFailure('Rebase failed : [ ' + section + '_' + selector + ']');
                }
       });
     } ;

  </script>

</head>
<body role="document" >
<div class="page-header" >
<h1>Failures</h1>
</div>
<div class="message"></div>
<div class="row">
  <div class="col-md-6">
    <table class="table table-bordered">
      <thead>
      <tr>
        <th>Section</th>
        <th>Selector</th>
        <th>Origineel</th>
        <th>Nieuw</th>
        <th>Verschil</th>
        <th>Rebase</th>
      </tr>
      </thead>
      <tbody>
      <tr id="s1-1-.-1">
        <td>1.1</td>
        <td>.-1</td>
        <td><img src="screenshots&#x2F;s1_1.-1.png"/></td>
        <td><img src="screenshots&#x2F;s1_1.-1.diff.png"/></td>
        <td class="image" ><img src="failures&#x2F;s1_1.-1.fail.png"/></td>
        <td><button id="s1-1-.-1" onclick="rebase('1.1','.-1','s1-1-.-1');">OK</button></td>
      </tr>
      <tr id="s1-1-primary.-1">
        <td>1.1</td>
        <td>primary.-1</td>
        <td><img src="screenshots&#x2F;s1_1_primary.-1.png"/></td>
        <td><img src="screenshots&#x2F;s1_1_primary.-1.diff.png"/></td>
        <td class="image" ><img src="failures&#x2F;s1_1_primary.-1.fail.png"/></td>
        <td><button id="s1-1-primary.-1" onclick="rebase('1.1','primary.-1','s1-1-primary.-1');">OK</button></td>
      </tr>
      <tr id="s1-1-pseudo-class-active.-1">
        <td>1.1</td>
        <td>pseudo_class_active.-1</td>
        <td><img src="screenshots&#x2F;s1_1_pseudo_class_active.-1.png"/></td>
        <td><img src="screenshots&#x2F;s1_1_pseudo_class_active.-1.diff.png"/></td>
        <td class="image" ><img src="failures&#x2F;s1_1_pseudo_class_active.-1.fail.png"/></td>
        <td><button id="s1-1-pseudo-class-active.-1" onclick="rebase('1.1','pseudo_class_active.-1','s1-1-pseudo-class-active.-1');">OK</button></td>
      </tr>
      <tr id="s1-1-pseudo-class-disabled.-1">
        <td>1.1</td>
        <td>pseudo_class_disabled.-1</td>
        <td><img src="screenshots&#x2F;s1_1_pseudo_class_disabled.-1.png"/></td>
        <td><img src="screenshots&#x2F;s1_1_pseudo_class_disabled.-1.diff.png"/></td>
        <td class="image" ><img src="failures&#x2F;s1_1_pseudo_class_disabled.-1.fail.png"/></td>
        <td><button id="s1-1-pseudo-class-disabled.-1" onclick="rebase('1.1','pseudo_class_disabled.-1','s1-1-pseudo-class-disabled.-1');">OK</button></td>
      </tr>
      <tr id="s1-1-pseudo-class-hover.-1">
        <td>1.1</td>
        <td>pseudo_class_hover.-1</td>
        <td><img src="screenshots&#x2F;s1_1_pseudo_class_hover.-1.png"/></td>
        <td><img src="screenshots&#x2F;s1_1_pseudo_class_hover.-1.diff.png"/></td>
        <td class="image" ><img src="failures&#x2F;s1_1_pseudo_class_hover.-1.fail.png"/></td>
        <td><button id="s1-1-pseudo-class-hover.-1" onclick="rebase('1.1','pseudo_class_hover.-1','s1-1-pseudo-class-hover.-1');">OK</button></td>
      </tr>
      <tr id="s1-1-remove.-1">
        <td>1.1</td>
        <td>remove.-1</td>
        <td><img src="screenshots&#x2F;s1_1_remove.-1.png"/></td>
        <td><img src="screenshots&#x2F;s1_1_remove.-1.diff.png"/></td>
        <td class="image" ><img src="failures&#x2F;s1_1_remove.-1.fail.png"/></td>
        <td><button id="s1-1-remove.-1" onclick="rebase('1.1','remove.-1','s1-1-remove.-1');">OK</button></td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
</body>
</html>